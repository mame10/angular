<app-header></app-header>

<div class="container">
    <h3>panier</h3>
    <div class="d-flex justify-content-end">
        <h3>Montant total: {{price}}</h3>
        <h2 class="btn btn-secondary m-2">Catalogue+</h2>
    </div>
    <div class="panier shadow">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">NomProduit</th>
                    <th scope="col">Quantite</th>
                    <th scope="col">Prix Unitaire</th>
                    <th scope="col">Prix Total</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let produit of items$ | async" style="height: 5rem;">
                    <td><img src="data:image/PNG;base64,{{produit?.image}}" class="card-img-top" style="width: 4rem;">
                    </td>
                    <td>{{produit.nom}}</td>
                    <td><button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="minus "
                            style="background-color: grey;">-</button>
                        <input class="quantity text-center" min="1" name="quantity" value="{{produit.quantite}}" type="number"
                            style="width: 3rem;">
                        <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"
                            style="background-color: #E4B028; ">+</button>
                    </td>
                    <td>{{produit.prix}}</td>
                    <td>{{produit.prix}}</td>
                    <td> <i (click)="removeFromCart(produit)" class="fa-solid fa-trash-can m-4 fa-2x" style="color: red; cursor: pointer;"></i></td>
                </tr>
            </tbody> 
        </table>
    </div>
</div>